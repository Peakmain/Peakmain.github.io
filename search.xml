<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>BasicLibraryâ€”â€”åŸºäºkotlin+jetpack+mvvmå°è£…ä¸€å¥—æ¡†æ¶ï¼Œæé«˜Androidå¼€å‘æ•ˆç‡</title>
      <link href="/archives/85ddffd8.html"/>
      <url>/archives/85ddffd8.html</url>
      
        <content type="html"><![CDATA[<h3 id="BasicLibrary"><a href="#BasicLibrary" class="headerlink" title="BasicLibrary"></a>BasicLibrary</h3><ul><li>BasicLibraryæ˜¯åŸºäºkotlin+jetpack+mvvmå°è£…çš„ä¸€å¥—æ¡†æ¶,æé«˜Androidå¼€å‘æ•ˆç‡</li><li>é›†æˆäº†è‡ªå·±å°è£…çš„BasicUIåº“ï¼Œå…³äºBasicUIå¤§å®¶å¯ä»¥çœ‹æˆ‘ä¹‹å‰å†™çš„æ–‡ç« <a href="https://www.jianshu.com/p/78bcc6c3bbca">BasicUIå¸¸ç”¨UIç»„ä»¶å’Œå®ç”¨å·¥å…·ç±»å°è£…ï¼Œæé«˜Androidå¼€å‘çš„æ•ˆç‡</a></li></ul><p>è¿˜åŒ…æ‹¬:</p><ul><li>MMKVçš„å°è£…</li><li>é˜²æ­¢å¤šæ¬¡ç‚¹å‡»äº‹ä»¶çš„å¤„ç†</li><li>Retrofitå°è£…å®ç°ç½‘ç»œè§£è€¦</li><li>çº¿ç¨‹çš„åˆ‡æ¢ï¼ŒViewçš„æŠ–åŠ¨æ•ˆæœ</li><li>LiveDataå®ç°äº‹ä»¶åˆ†å‘æ€»çº¿</li><li>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/Peakmain/BasicLibrary">https://github.com/Peakmain/BasicLibrary</a></li></ul><h3 id="æ€æ ·ä½¿ç”¨"><a href="#æ€æ ·ä½¿ç”¨" class="headerlink" title="æ€æ ·ä½¿ç”¨"></a>æ€æ ·ä½¿ç”¨</h3><h4 id="Step-1-Add-the-JitPack-repository-to-your-build-file"><a href="#Step-1-Add-the-JitPack-repository-to-your-build-file" class="headerlink" title="Step 1. Add the JitPack repository to your build file"></a>Step 1. Add the JitPack repository to your build file</h4><ul><li>Add it in your root build.gradle at the end of repositories:<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">allprojects &#123;</span><br><span class="line">repositories &#123;</span><br><span class="line">...</span><br><span class="line">maven &#123; url &#x27;https://jitpack.io&#x27; &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="Step-2-Add-the-dependency"><a href="#Step-2-Add-the-dependency" class="headerlink" title="Step 2. Add the dependency"></a>Step 2. Add the dependency</h4><ul><li><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">        implementation &#x27;com.github.Peakmain:BasicLibrary:1.0.2&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="åŠŸèƒ½åˆ—è¡¨"><a href="#åŠŸèƒ½åˆ—è¡¨" class="headerlink" title="åŠŸèƒ½åˆ—è¡¨"></a>åŠŸèƒ½åˆ—è¡¨</h3><h4 id="é›†æˆBaseActivity"><a href="#é›†æˆBaseActivity" class="headerlink" title="é›†æˆBaseActivity"></a>é›†æˆBaseActivity</h4><ul><li><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">class XXActivity(override val layoutId: Int = è‡ªå®šä¹‰å¸ƒå±€) :</span><br><span class="line">    BaseActivity&lt;T : ViewDataBinding, E : BaseViewModel&gt;() &#123;</span><br><span class="line">    override fun initView() &#123;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>Tä¸€èˆ¬æ˜¯Databindingå¸ƒå±€å®ç°è‡ªåŠ¨ç”Ÿæˆçš„ç±»</li><li>Eéœ€è¦ç»§æ‰¿äºBaseViewModelï¼Œä¹‹åä¼šè‡ªåŠ¨å®ç°initModelæ–¹æ³•<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">class MainViewModel : BaseViewModel() &#123;</span><br><span class="line">    override fun initModel() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>initModelåœ¨initViewä¹‹å‰ï¼ŒsetContentViewä¹‹åå®ç°çš„æ–¹æ³•</li><li>ä¹‹åå¯åœ¨activityä¸­ç›´æ¥ä½¿ç”¨mViewModelæ¥è·å–Eçš„å®ä¾‹ï¼Œæ— éœ€åˆå§‹åŒ–</li><li>ä¹Ÿå¯é€šè¿‡getViewModel(modelClass: Class<E>)è·å–ViewModelï¼Œå¹¶å¤šæ¬¡è·å–æ˜¯åŒä¸€ä¸ªViewModelå®ä¾‹<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Log.e(&quot;TAG&quot;,&quot;æµ‹è¯•$&#123;getViewModel(MainViewModel::class.java)&#125;&quot;)</span><br><span class="line">Log.e(&quot;TAG&quot;,&quot;æµ‹è¯•$&#123;getViewModel(MainViewModel::class.java)&#125;&quot;)</span><br></pre></td></tr></table></figure></li></ul><h4 id="é›†æˆBaseFragment"><a href="#é›†æˆBaseFragment" class="headerlink" title="é›†æˆBaseFragment"></a>é›†æˆBaseFragment</h4><ul><li><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">class XXFragment(override val layoutId: Int = è‡ªå®šä¹‰å¸ƒå±€) :</span><br><span class="line">    BaseFragment&lt;T : ViewDataBinding, E : BaseViewModel&gt;() &#123;</span><br><span class="line">    override fun initView(fragmentView:View) &#123;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>å…¶ä»–æ€§è´¨å’ŒBaseActivityä¸€æ ·ï¼Œä¸å†é˜è¿°</li></ul><h4 id="MMKVçš„ä½¿ç”¨"><a href="#MMKVçš„ä½¿ç”¨" class="headerlink" title="MMKVçš„ä½¿ç”¨"></a>MMKVçš„ä½¿ç”¨</h4><ul><li>åˆå§‹åŒ–<br>åœ¨Applicationä¸­æ·»åŠ å¦‚ä¸‹ä»£ç å³å¯<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">    TaskDispatcher dispatcher = BasicLibraryConfig.Companion.getInstance().getApp().getDispatcher();</span><br><span class="line">    dispatcher.start();</span><br><span class="line">&#125; catch (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>ä½¿ç”¨<br>ä¿å­˜æ•°æ®<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PreferencesUtils.getInstance(this).saveParams(key,value)//ğŸ‘ˆğŸ»key: String, objects: Any</span><br></pre></td></tr></table></figure>è·å–æ•°æ®<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PreferencesUtils.getInstance(this).getParam(key,defalutParams)//ğŸ‘ˆğŸ»key: String, defaultObject: Any?</span><br></pre></td></tr></table></figure></li><li>å…³äºå¯åŠ¨ä¼˜åŒ–â€”â€”å¯åŠ¨å™¨TaskDispatcherå¤§å®¶å¯ä»¥çœ‹æˆ‘ä¹‹å‰å…³äºBasicUIçš„wikiï¼š<a href="https://github.com/Peakmain/BasicUI/wiki/%E6%9C%89%E5%90%91%E6%97%A0%E7%8E%AF%E5%9B%BE%E5%AE%9E%E7%8E%B0%E5%90%AF%E5%8A%A8%E5%99%A8%E4%BC%98%E5%8C%96">æœ‰å‘æ— ç¯å›¾å®ç°å¯åŠ¨å™¨ä¼˜åŒ–</a></li></ul><h4 id="é˜²æ­¢å¤šæ¬¡ç‚¹å‡»äº‹ä»¶çš„å¤„ç†"><a href="#é˜²æ­¢å¤šæ¬¡ç‚¹å‡»äº‹ä»¶çš„å¤„ç†" class="headerlink" title="é˜²æ­¢å¤šæ¬¡ç‚¹å‡»äº‹ä»¶çš„å¤„ç†"></a>é˜²æ­¢å¤šæ¬¡ç‚¹å‡»äº‹ä»¶çš„å¤„ç†</h4><ul><li>ç«‹å³å¤„ç†<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mBinding.tvTitle.click&#123;</span><br><span class="line">    //todo äº‹ä»¶å¤„ç†</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>å»¶æ—¶å¤„ç†<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//æˆ–è€…</span><br><span class="line">mBinding.tvTitle.clickViewDelay&#123;</span><br><span class="line">    //todo äº‹ä»¶å¤„ç†</span><br><span class="line">&#125;        </span><br><span class="line"></span><br></pre></td></tr></table></figure>TextViewäº‹ä»¶çš„æ‹†åˆ†<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mBinding.tvTitle.clickClipListener( mBinding.tvTitle,leftClick = &#123;</span><br><span class="line">      //todo drawableLeftçš„ç‚¹å‡»äº‹ä»¶</span><br><span class="line">&#125;)&#123;</span><br><span class="line">    //todo drawableRightçš„ç‚¹å‡»äº‹ä»¶</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å…³äºçº¿ç¨‹åˆ‡æ¢"><a href="#å…³äºçº¿ç¨‹åˆ‡æ¢" class="headerlink" title="å…³äºçº¿ç¨‹åˆ‡æ¢"></a>å…³äºçº¿ç¨‹åˆ‡æ¢</h4>åˆ‡æ¢åˆ°ä¸»çº¿ç¨‹<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mBinding.tvTitle.ktxRunOnUiThread &#123; </span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>å»¶è¿ŸdelayMillsåˆ‡æ¢åˆ°ä¸»çº¿ç¨‹<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mBinding.tvTitle.ktxRunOnUiThreadDelay(delayMills) &#123; </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>å»¶è¿ŸåŠ è½½,é»˜è®¤æ˜¯500ms<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mBinding.tvTitle.wait &#123; </span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>å»¶è¿ŸåŠ è½½ï¼Œè®¾ç½®å»¶è¿Ÿæ—¶é—´<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mBinding.tvTitle.wait(600) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>å»¶è¿ŸåŠ è½½ï¼Œè®¾ç½®å»¶è¿Ÿæ—¶é—´å’Œå•ä½<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mBinding.tvTitle.wait(600,TimeUnit.SECONDS) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="Viewçš„æŠ–åŠ¨æ•ˆæœ"><a href="#Viewçš„æŠ–åŠ¨æ•ˆæœ" class="headerlink" title="Viewçš„æŠ–åŠ¨æ•ˆæœ"></a>Viewçš„æŠ–åŠ¨æ•ˆæœ</h4><ul><li><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">View.shakeAnimation( fromXDelta: Float = 0f,</span><br><span class="line">                     toXDelta: Float = 5f,</span><br><span class="line">                     fromYDelta: Float = 0f,</span><br><span class="line">                     toYDelta: Float = 0f,</span><br><span class="line">                     duration: Long = 500)</span><br></pre></td></tr></table></figure></li></ul><h4 id="ç½‘ç»œåº“çš„ä½¿ç”¨"><a href="#ç½‘ç»œåº“çš„ä½¿ç”¨" class="headerlink" title="ç½‘ç»œåº“çš„ä½¿ç”¨"></a>ç½‘ç»œåº“çš„ä½¿ç”¨</h4><ul><li>æ¨èåœ¨ViewModelä¸­è¿›è¡Œåˆå§‹åŒ–</li><li>åˆ›å»ºService</li></ul><h5 id="serviceå°±æ˜¯Retrofitè¯·æ±‚ç½‘ç»œå±‚çš„Serviceæ¥å£"><a href="#serviceå°±æ˜¯Retrofitè¯·æ±‚ç½‘ç»œå±‚çš„Serviceæ¥å£" class="headerlink" title="serviceå°±æ˜¯Retrofitè¯·æ±‚ç½‘ç»œå±‚çš„Serviceæ¥å£"></a>serviceå°±æ˜¯Retrofitè¯·æ±‚ç½‘ç»œå±‚çš„Serviceæ¥å£</h5><ul><li><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">private var api: WanAndroidApi = RetrofitManager.createService(WanAndroidApi::class.java,&quot;https://wanandroid.com/&quot;)</span><br></pre></td></tr></table></figure></li></ul><h5 id="å¦‚æœæƒ³ç”¨è‡ªå·±çš„å°è£…æ–¹æ³•å®ç°Serviceï¼Œå¯ä»¥è°ƒç”¨ä»¥ä¸‹æ–¹æ³•"><a href="#å¦‚æœæƒ³ç”¨è‡ªå·±çš„å°è£…æ–¹æ³•å®ç°Serviceï¼Œå¯ä»¥è°ƒç”¨ä»¥ä¸‹æ–¹æ³•" class="headerlink" title="å¦‚æœæƒ³ç”¨è‡ªå·±çš„å°è£…æ–¹æ³•å®ç°Serviceï¼Œå¯ä»¥è°ƒç”¨ä»¥ä¸‹æ–¹æ³•"></a>å¦‚æœæƒ³ç”¨è‡ªå·±çš„å°è£…æ–¹æ³•å®ç°Serviceï¼Œå¯ä»¥è°ƒç”¨ä»¥ä¸‹æ–¹æ³•</h5><ul><li><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">private var api: WanAndroidApi = RetrofitManager.createService(WanAndroidApi::class.java) &#123;</span><br><span class="line">    //todo è‡ªå·±åˆ›å»ºçš„Service</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è¯·æ±‚ç½‘ç»œ<br>ç¬¬ä¸€ç§å†™æ³•</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">RetrofitManager.createData(api.getList(0,10), object : ApiStatus&lt;ApiModel&lt;ProjectBean&gt;&gt;() &#123;</span><br><span class="line">    override fun before() &#123;</span><br><span class="line">        //todo è°ƒç”¨è¯·æ±‚ç½‘ç»œå‰</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    override fun error(exception: Exception) &#123;</span><br><span class="line">       //todo è¿”å›é”™è¯¯</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    override fun success(t: ApiModel&lt;ProjectBean&gt;) &#123;</span><br><span class="line">      //è¿”å›æˆåŠŸ</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç¬¬äºŒç§å†™æ³•</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">RetrofitManager.createData(api.projectTree, &#123;</span><br><span class="line">    //todo before()</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    //todo success(</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    //todo error()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><h4 id="LiveDataå®ç°äº‹ä»¶åˆ†å‘æ€»çº¿"><a href="#LiveDataå®ç°äº‹ä»¶åˆ†å‘æ€»çº¿" class="headerlink" title="LiveDataå®ç°äº‹ä»¶åˆ†å‘æ€»çº¿"></a>LiveDataå®ç°äº‹ä»¶åˆ†å‘æ€»çº¿</h4><ul><li>æ³¨å†Œæˆ–è·å–å®ä¾‹<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">val rxBus = RxBus.instance.register&lt;Int&gt;(&quot;test&quot;)</span><br></pre></td></tr></table></figure></li><li>å‘é€æ•°æ®<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rxBus.setData(100)</span><br></pre></td></tr></table></figure></li><li>æ¥å—æ•°æ®<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">val value=rxBus.value</span><br></pre></td></tr></table></figure><h4 id="CommonRecyclerDataBindingAdapter-RecycleViewåœ¨Bindingçš„ä½¿ç”¨"><a href="#CommonRecyclerDataBindingAdapter-RecycleViewåœ¨Bindingçš„ä½¿ç”¨" class="headerlink" title="CommonRecyclerDataBindingAdapter RecycleViewåœ¨Bindingçš„ä½¿ç”¨"></a>CommonRecyclerDataBindingAdapter RecycleViewåœ¨Bindingçš„ä½¿ç”¨</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">class TestAdapter(data: MutableList&lt;String&gt;, layoutManager: LinearLayoutManager) :</span><br><span class="line">    CommonRecyclerDataBindingAdapter&lt;String, RecyclerAdpterTestBinding&gt;(</span><br><span class="line">        data,//ğŸ‘ˆğŸ»æ•°æ®æº</span><br><span class="line">        R.layout.recycler_adpter_test,//ğŸ‘ˆè‡ªå®šä¹‰å¸ƒå±€</span><br><span class="line">        DefaultAdapterFooterConfig&lt;String,RecyclerAdpterTestBinding&gt;(layoutManager).item//ğŸ‘ˆæ˜¯å¦æ˜¾ç¤ºåŠ è½½æ›´å¤š,å¦‚æœä¸ºnullï¼Œåˆ™ä¸æ˜¾ç¤ºåŠ è½½æ›´å¤šï¼Œå¯è‡ªå®šä¹‰ï¼Œå¯å‚è€ƒDefaultAdapterFooterConfigçš„æºç </span><br><span class="line">    ) &#123;</span><br><span class="line">    override fun convert(</span><br><span class="line">        holder: BaseLibraryViewHolder&lt;RecyclerAdpterTestBinding&gt;,</span><br><span class="line">        itemData: String,</span><br><span class="line">        position: Int</span><br><span class="line">    ) &#123;</span><br><span class="line">        val binding = holder.itemDataBinding</span><br><span class="line">        binding.vm = itemData</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="è·å–åç¨‹çš„å…¨å±€å¼‚å¸¸"><a href="#è·å–åç¨‹çš„å…¨å±€å¼‚å¸¸" class="headerlink" title="è·å–åç¨‹çš„å…¨å±€å¼‚å¸¸"></a>è·å–åç¨‹çš„å…¨å±€å¼‚å¸¸</h4><ul><li><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">  GlobalCoroutineExceptionHandler().coroutineExceptionCallback=&#123; context, exception-&gt;</span><br><span class="line">       //context:CoroutineContext</span><br><span class="line">//exception:Throwable</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="BindingAdapterçš„ä½¿ç”¨"><a href="#BindingAdapterçš„ä½¿ç”¨" class="headerlink" title="BindingAdapterçš„ä½¿ç”¨"></a>BindingAdapterçš„ä½¿ç”¨</h4><ul><li>â‘ ã€æ–‡æœ¬æ·»åŠ *å‰ç¼€<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">app:asteriskPrevText=&quot;&quot;//æ–‡æœ¬çš„åå­—</span><br><span class="line">app:asteriskColor=&quot;&quot;//æ˜Ÿå·çš„é¢œè‰²</span><br></pre></td></tr></table></figure></li><li>â‘¡ã€è®¾ç½®imageçš„urlå›¾ç‰‡<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">app:loadUrl=&quot;&quot;//å‚æ•°url</span><br></pre></td></tr></table></figure></li><li>â‘¢ã€è®¾ç½®viewçš„visibilityæ˜¯View.VISIBLEè¿˜æ˜¯View.Gone<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">app:visibilityOrGone=&quot;@&#123;!vm.isShow&#125;&quot;//trueè¡¨ç¤ºView.Visible,falseåˆ™è¡¨ç¤ºView.Gone</span><br></pre></td></tr></table></figure></li><li>â‘£ã€è®¾ç½®viewçš„visibilityæ˜¯View.VISIBLEè¿˜æ˜¯View.InVisibile<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">app:visibilityOrInVisible=&quot;@&#123;vm.isShow&#125;&quot;//trueè¡¨ç¤ºView.Visible,falseåˆ™è¡¨ç¤ºView.InVisbile</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li>â‘¤ã€é˜²æ­¢å¤šæ¬¡é‡å¤ç‚¹å‡»<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">app:clickDelayTime=&quot;@&#123;vm.delayTime&#125;&quot;//è®¾ç½®ç‚¹å‡»äº‹ä»¶çš„å»¶è¿Ÿæ—¶é—´,å‚æ•°ä¸ºlongç±»å‹</span><br><span class="line">app:click=&quot;@&#123;vm.clickListener&#125;&quot;//è®¾ç½®ç‚¹å‡»äº‹ä»¶çš„äº‹ä»¶å¤„ç†</span><br></pre></td></tr></table></figure></li><li>â‘¥ã€textViewçš„drawableLeftå’ŒdrawableRightçš„ç‚¹å‡»äº‹ä»¶<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">app:drawableLeftClick=&quot;&quot;//drawableLeftçš„ç‚¹å‡»äº‹ä»¶</span><br><span class="line">app:drawableRightClick=&quot;&quot;//drawableRightçš„ç‚¹å‡»äº‹ä»¶</span><br></pre></td></tr></table></figure><h4 id="å…³äºæˆ‘"><a href="#å…³äºæˆ‘" class="headerlink" title="å…³äºæˆ‘"></a>å…³äºæˆ‘</h4></li><li>ç®€ä¹¦(<a href="https://www.jianshu.com/u/3ff32f5aea98">https://www.jianshu.com/u/3ff32f5aea98</a>)</li><li>æˆ‘çš„GitHubåœ°å€(<a href="https://links.jianshu.com/go?to=https://github.com/Peakmain">https://github.com/Peakmain</a>)</li></ul>]]></content>
      
      
      <categories>
          
          <category> Android é«˜çº§è¿›é˜¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android å·¥å…·åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BasicUIå¸¸ç”¨UIç»„ä»¶å’Œå®ç”¨å·¥å…·ç±»å°è£…ï¼Œæé«˜Androidå¼€å‘çš„æ•ˆç‡</title>
      <link href="/archives/b5f422e3.html"/>
      <url>/archives/b5f422e3.html</url>
      
        <content type="html"><![CDATA[<p align="center">  <img src="https://s2.loli.net/2022/05/20/kdocZsSmfL98u5H.jpg"  /></p><h4 id="BasicUI"><a href="#BasicUI" class="headerlink" title="BasicUI"></a>BasicUI</h4><hr><p>BasicUIæ˜¯ä¸€äº›å¸¸ç”¨çš„Android UIç»„ä»¶å’Œä¸€äº›å®ç”¨å·¥å…·ç±»å°è£…ï¼Œæé«˜Androidçš„å¼€å‘æ•ˆç‡</p><p><strong>ä½¿ç”¨æ–‡æ¡£é“¾æ¥ï¼š<a href="https://github.com/Peakmain/BasicUI/wiki">https://github.com/Peakmain/BasicUI/wiki</a></strong></p><h4 id="How-to"><a href="#How-to" class="headerlink" title="How to"></a>How to</h4><ul><li>Step 1. Add the JitPack repository to your build file</li></ul><p>Add it in your root build.gradle at the end of repositories:</p><pre><code>allprojects &#123;    repositories &#123;        ...        maven &#123; url &#39;https://jitpack.io&#39; &#125;    &#125;&#125;</code></pre><ul><li><p>Step 2. Add the dependency</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">implementation &#x27;com.github.Peakmain:BasicUI:1.1.13&#x27;</span><br></pre></td></tr></table></figure></li><li><p>Step 3.some probleam</p><p>å¦‚æœä½ çš„gradleç‰ˆæœ¬æ¯”3.5.3é«˜ï¼Œå¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p><p>1ã€Entry name â€˜AndroidManifest.xmlâ€™ collided</p><p><strong>è§£å†³åŠæ³•ï¼šåœ¨gradle.propertiesæ·»åŠ ä»¥ä¸‹ä»£ç </strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">android.useNewApkCreator=false</span><br></pre></td></tr></table></figure><p> 2ã€å¦‚æœå®‰è£…å¤±è´¥ï¼Œç”¨adb installå®‰è£…æŠ¥é”™æç¤ºå¦‚ä¸‹</p><p>  failed to install app-debug.apk: Failure [INSTALL_PARSE_FAILED_UNEXPECTED_EXCEPTION: Failed to parse /data/app/vmdl1335956833.tmp/base.apk: Corrupt XML binary file]</p><p><strong>è§£å†³åŠæ³•:åœ¨æ·»åŠ ä¾èµ–çš„build.gradleä¸­æ·»åŠ ä»¥ä¸‹ä»£ç </strong></p> <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">android&#123;</span><br><span class="line">     packagingOptions &#123;</span><br><span class="line">      exclude &#x27;AndroidManifest.xml&#x27;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>3ã€å¦‚æœæç¤ºæŠ¥é”™</p><img width="908" alt="image" src="https://user-images.githubusercontent.com/26482737/167089658-d5176dbc-ae07-4fd3-ac91-8caf6cea7e00.png"> **è§£å†³åŠæ³•:ä¿®æ”¹ä¾èµ–å¦‚ä¸‹** <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">implementation (&#x27;com.github.Peakmain:BasicUI:1.1.13&#x27;)&#123;</span><br><span class="line">    exclude group:&quot;com.github.yalantis&quot;,module:&quot;ucrop&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> AndroidManifest.xmlæ·»åŠ å¦‚ä¸‹ä»£ç  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;activity android:name=&quot;com.yalantis.ucrop.UCropActivity&quot; tools:node=&quot;remove&quot;/&gt;</span><br></pre></td></tr></table></figure>##### Screenshot</li></ul><p><img src="https://s2.loli.net/2022/05/20/jsTRSLnecMdHXI6.jpg" alt="é¦–é¡µ.jpg">&emsp;<img src="https://s2.loli.net/2022/05/20/3zH8rtYXSkdi7FO.jpg" alt="dialogçš„ä½¿ç”¨.jpg">&emsp;<img src="https://s2.loli.net/2022/05/20/weYaR76PlZu1j2I.jpg" alt="navigtionBarçš„ä½¿ç”¨.jpg">&emsp;<img src="https://s2.loli.net/2022/05/20/axsQmFJzoH8cj9S.jpg" alt="popwindow_flowlayoutçš„ä½¿ç”¨.jpg">&emsp;<br><img src="https://s2.loli.net/2022/05/20/sfvtMgPYUuzjo4n.jpg" alt="è‡ªå¸¦åˆ é™¤çš„EditText.jpg">&emsp;<img src="https://s2.loli.net/2022/05/20/39aOy8McqkhvQiZ.jpg" alt="TextViewçš„å°è£….jpg">&emsp;<img src="https://s2.loli.net/2022/05/20/tvqV9KBywXEdYNa.gif" alt="ä»¿ä»Šæ—¥å¤´æ¡çš„TableLayout.gif">&emsp;<img src="https://s2.loli.net/2022/05/20/COq9DSpxAkB2moa.gif" alt="åŠ è½½loading.gif">&emsp;<br><img src="https://s2.loli.net/2022/05/20/Hr6K2xmUZf4uhlN.gif" alt="å¤šæ¡ç›®èœå•åˆ é€‰.gif">&emsp;<img src="https://s2.loli.net/2022/05/20/ojZlznW7IfSOkQV.jpg" alt="è‡ªå®šä¹‰é”®ç›˜.jpg">&emsp;<img src="https://s2.loli.net/2022/05/20/bfGpYsd5tTC3cgl.jpg" alt="LinearlayoutManageråˆ†ç»„.jpg">&emsp;<img src="https://s2.loli.net/2022/05/20/xhVrCGeLqIyZPgt.gif" alt="LinearlayoutManageræ‚¬æµ®.gif">&emsp;<br><img src="https://s2.loli.net/2022/05/20/gnUKSxbL6sXwlDf.jpg" alt="GridLayoutManageråˆ†ç»„.jpg">&emsp;<img src="https://s2.loli.net/2022/05/20/fhVOBZbFAnmGqCe.gif" alt="GridLayoutManageræ‚¬æµ®.gif">&emsp;<img src="https://s2.loli.net/2022/05/20/Oej3WGVTCg5Uczy.gif" alt="ItemTouchHelpå®ç°åˆ é™¤å’ŒåœŸæ‹–æ‹½.gif">&emsp;<img src="https://s2.loli.net/2022/05/20/wOxc1dfTvRWBVP3.gif" alt="RecyclerViewå®ç°ä¸‹æ‹‰åˆ·æ–°å’ŒåŠ è½½æ›´å¤š2.gif">&emsp;<br><img src="https://s2.loli.net/2022/05/20/cHhQPRge8CjNTWA.gif" alt="RecyclerViewå®ç°ä¸‹æ‹‰åˆ·æ–°å’ŒåŠ è½½1.gif">&emsp;<img src="https://s2.loli.net/2022/05/20/e32cT4jPxC1Atul.gif" alt="RecyclerViewå®ç°å¤šçŠ¶æ€å¸ƒå±€.gif">&emsp;<img src="https://s2.loli.net/2022/05/20/apo9PiRuKDH4FfN.gif" alt="å›¾ç‰‡å‹ç¼©.gif">&emsp;<img src="../img/å›¾ç‰‡é€‰æ‹©.gif"></img>&emsp;<br><img src="https://s2.loli.net/2022/05/20/z6xqems7tQRfPAW.gif" alt="æ–‡ä»¶é€‰æ‹©.gif">&emsp;<img src="https://s2.loli.net/2022/05/20/pLaHbo1vgl6SYWn.gif" alt="é€‰æ‹©å™¨çš„ä½¿ç”¨.gif">&emsp;<img src="https://s2.loli.net/2022/05/20/brzdTNfvh5SlwF6.gif" alt="glideçš„ä½¿ç”¨.gif">&emsp;<img src="https://s2.loli.net/2022/05/20/qz3gbaorfAZncPC.jpg" alt="Viewåˆ›å»ºBitmap.jpg">&emsp;<br><img src="https://s2.loli.net/2022/05/20/PAtYjZqXJ8o2SpL.jpg" alt="OkHttpçš„å°è£….jpg">&emsp;<img src="https://s2.loli.net/2022/05/20/4koeM6L2DRJEqGN.gif" alt="æ–‡æœ¬é«˜äº®çš„ä½¿ç”¨.gif">&emsp;<img src="https://s2.loli.net/2022/05/20/dsuOp3hTBgiyZv8.jpg" alt="æˆ‘çš„.jpg">&emsp;</p><h4 id="BasicUI-Demo-APP-å®‰è£…åŒ…ä¸‹è½½"><a href="#BasicUI-Demo-APP-å®‰è£…åŒ…ä¸‹è½½" class="headerlink" title="BasicUI Demo APP å®‰è£…åŒ…ä¸‹è½½"></a>BasicUI Demo APP å®‰è£…åŒ…ä¸‹è½½</h4><hr><ul><li>è’²å…¬è‹±ä¸‹è½½åœ°å€</li></ul><p> <img src="https://www.pgyer.com/app/qrcode/BasicUI" alt="æ¼”ç¤ºdemo"></p><ul><li>Githubä¸‹è½½åœ°å€ï¼š</li></ul><p><img src="https://s2.loli.net/2022/05/20/Ye1gBWxMXNUAZSO.png" alt="äºŒç»´ç .png"></p><h4 id="å…³äºæˆ‘"><a href="#å…³äºæˆ‘" class="headerlink" title="å…³äºæˆ‘"></a>å…³äºæˆ‘</h4><ul><li>ç®€ä¹¦ï¼šÂ <a href="https://www.jianshu.com/u/3ff32f5aea98">https://www.jianshu.com/u/3ff32f5aea98</a></li><li>æˆ‘çš„GitHubåœ°å€ï¼š<a href="https://github.com/Peakmain">https://github.com/Peakmain</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Android é«˜çº§è¿›é˜¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android UI </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
